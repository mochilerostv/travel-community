// app/page.tsx
import { Button } from "@/components/ui/button";
import { Link } from "next/link";

export default function Home() {
  return (
    <div>
      {/* Header */}
      <header>
        <Button asChild>
          <Link href="/pricing">Únete Ahora</Link>
        </Button>
      </header>

      {/* Hero Section */}
      <section className="hero">
        <Button size="lg" className="text-lg px-8 py-4" asChild>
          <Link href="/pricing">Comenzar Ahora - €1,99/mes</Link>
        </Button>
        <Button size="lg" variant="outline" className="text-lg px-8 py-4 bg-transparent" asChild>
          <Link href="/dashboard">Ver Demo Gratuita</Link>
        </Button>
      </section>

      {/* Pricing Section */}
      <section className="pricing">
        <Button className="w-full text-lg py-6 mt-8" asChild>
          <Link href="/pricing">Comenzar Ahora</Link>
        </Button>
      </section>
    </div>
  );
}

// app/dashboard/page.tsx
import { Button } from "@/components/ui/button";

export default function Dashboard() {
  return (
    <div>
      {/* Manage Subscription Button */}
      <Button 
        variant="ghost" 
        size="sm"
        onClick={() => { window.location.href = '/pricing' }}
      >
        Gestionar Suscripción
      </Button>
    </div>
  );
}

// app/register/page.tsx
import { useState } from "react";
import { Button, Checkbox, Label, Link } from "@/components/ui";

export default function Register() {
  const [step, setStep] = useState(1);
  const [formData, setFormData] = useState({
    email: "",
    password: "",
    confirmPassword: "",
    firstName: "",
    lastName: "",
    preferredAirports: [],
    interests: [],
  });

  return (
    <div>
      {/* Step 3 */}
      {step === 3 && (
        <div className="space-y-6">
          <div className="bg-blue-50 p-4 rounded-lg">
            <h3 className="font-semibold text-blue-900 mb-2">Resumen de Suscripción</h3>
            <div className="flex justify-between items-center">
              <span className="text-blue-800">Membresía Premium (mensual)</span>
              <span className="font-bold text-blue-900">€1,99</span>
            </div>
            <div className="text-sm text-blue-700 mt-2">
              • Acceso a todas las ofertas premium
              • Alertas personalizadas
              • Comunidad exclusiva
              • Cancelación en cualquier momento
            </div>
          </div>

          <div className="flex items-start space-x-2">
            <Checkbox id="terms" required />
            <Label htmlFor="terms" className="text-sm text-gray-600">
              Acepto los <Link href="#" className="text-blue-600 hover:underline">términos y condiciones</Link> y la <Link href="#" className="text-blue-600 hover:underline">política de privacidad</Link>
            </Label>
          </div>
        </div>
      )}

      {/* Submit Button */}
      <Button
        type="submit"
        className={`${step === 1 ? 'w-full' : 'ml-auto'}`}
      >
        {step === 3 ? 'Ir a Pago Seguro' : 'Continuar'}
      </Button>
    </div>
  );
}

// wordpress-plugin/travel-deals-pro.php
function enqueue_scripts() {
    wp_enqueue_script('travel-deals-js', plugin_dir_url(__FILE__) . 'js/travel-deals.js', array('jquery'), null, true);

    wp_localize_script('travel-deals-js', 'travel_deals_ajax', array(
        'ajax_url' => admin_url('admin-ajax.php'),
        'nonce' => wp_create_nonce('travel_deals_nonce'),
        'api_url' => $this->api_base_url,
        'user_email' => is_user_logged_in() ? wp_get_current_user()->user_email : ''
    ));
}

function check_user_subscription($email) {
    $response = wp_remote_get($this->api_base_url . '/wordpress/subscription-check?email=' . urlencode($email));
    // Process response here
}
